/** @preserve
 *
 * slippry v1.3.1 - Responsive content slider for jQuery
 * http://slippry.com
 *
 * Authors: Lukas Jakob Hafner - @saftsaak
 *          Thomas Hurd - @SeenNotHurd
 *
 * Copyright 2015, booncon oy - http://booncon.com
 *
 *
 * Released under the MIT license - http://opensource.org/licenses/MIT
 */
!function($){"use strict";var s;s={slippryWrapper:'<div class="sy-box" />',slideWrapper:'<div class="sy-slides-wrap" />',slideCrop:'<div class="sy-slides-crop" />',boxClass:"sy-list",elements:"li",activeClass:"sy-active",fillerClass:"sy-filler",loadingClass:"sy-loading",adaptiveHeight:!0,start:1,loop:!0,captionsSrc:"img",captions:"overlay",captionsEl:".sy-caption",initSingle:!0,responsive:!0,preload:"visible",pager:!0,pagerClass:"sy-pager",controls:!0,controlClass:"sy-controls",prevClass:"sy-prev",prevText:"Previous",nextClass:"sy-next",nextText:"Next",hideOnEnd:!0,transition:"fade",kenZoom:120,slideMargin:0,transClass:"transition",speed:800,easing:"swing",continuous:!0,useCSS:!0,auto:!0,autoDirection:"next",autoHover:!0,autoHoverDelay:100,autoDelay:500,pause:4e3,onSliderLoad:function(){return this},onSlideBefore:function(){return this},onSlideAfter:function(){return this}},$.fn.slippry=function(t){var i,e,a,n,r,o,l,v,c,d,p,g,u,f,h,C,y,m,S,x,W,w,k,b;return e=this,0===e.length?this:e.length>1?(e.each(function(){$(this).slippry(t)}),this):(i={},i.vars={},p=function(){var s,t,i;t=document.createElement("div"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd transitionend"};for(s in i)if(void 0!==t.style[s])return i[s]},x=function(){var s=document.createElement("div"),t=["Khtml","Ms","O","Moz","Webkit"],i=t.length;return function(e){if(e in s.style)return!0;for(e=e.replace(/^[a-z]/,function(s){return s.toUpperCase()});i--;)if(t[i]+e in s.style)return!0;return!1}}(),k=function(s,t){var i,e,a,n;return i=t.split("."),e=$(s),a="",n="",$.each(i,function(s,t){t.indexOf("#")>=0?a+=t.replace(/^#/,""):n+=t+" "}),a.length&&e.attr("id",a),n.length&&e.attr("class",$.trim(n)),e},b=function(){var s,t,e,a;e={},a={},s=100-i.settings.kenZoom,a.width=i.settings.kenZoom+"%",i.vars.active.index()%2===0?(a.left=s+"%",a.top=s+"%",e.left="0%",e.top="0%"):(a.left="0%",a.top="0%",e.left=s+"%",e.top=s+"%"),t=i.settings.pause+2*i.settings.speed,i.vars.active.css(a),i.vars.active.animate(e,{duration:t,easing:i.settings.easing,queue:!1})},c=function(){i.vars.fresh?(i.vars.slippryWrapper.removeClass(i.settings.loadingClass),i.vars.fresh=!1,i.settings.auto&&e.startAuto(),i.settings.useCSS||"kenburns"!==i.settings.transition||b(),i.settings.onSliderLoad.call(void 0,i.vars.active.index())):$("."+i.settings.fillerClass,i.vars.slideWrapper).addClass("ready")},f=function(s,t){var e,a,n;e=s/t,a=1/e*100+"%",n=$("."+i.settings.fillerClass,i.vars.slideWrapper),n.css({paddingTop:a}),c()},n=function(s){var t,i;void 0!==$("img",s).attr("src")?$("<img />").load(function(){t=s.width(),i=s.height(),f(t,i)}).attr("src",$("img",s).attr("src")):(t=s.width(),i=s.height(),f(t,i))},a=function(){if(0===$("."+i.settings.fillerClass,i.vars.slideWrapper).length&&i.vars.slideWrapper.append($('<div class="'+i.settings.fillerClass+'" />')),i.settings.adaptiveHeight===!0)n($("."+i.settings.activeClass,e));else{var s,t,a;t=0,a=0,$(i.vars.slides).each(function(){$(this).height()>t&&(s=$(this),t=s.height()),a+=1,a===i.vars.count&&(void 0===s&&(s=$($(i.vars.slides)[0])),n(s))})}},u=function(){i.settings.pager&&($("."+i.settings.pagerClass+" li",i.vars.slippryWrapper).removeClass(i.settings.activeClass),$($("."+i.settings.pagerClass+" li",i.vars.slippryWrapper)[i.vars.active.index()]).addClass(i.settings.activeClass))},m=function(){!i.settings.loop&&i.settings.hideOnEnd&&($("."+i.settings.prevClass,i.vars.slippryWrapper)[i.vars.first?"hide":"show"](),$("."+i.settings.nextClass,i.vars.slippryWrapper)[i.vars.last?"hide":"show"]())},o=function(){var s,t;i.settings.captions!==!1&&(s="img"!==i.settings.captionsSrc?i.vars.active.attr("title"):void 0!==$("img",i.vars.active).attr("title")?$("img",i.vars.active).attr("title"):$("img",i.vars.active).attr("alt"),t="custom"!==i.settings.captions?$(i.settings.captionsEl,i.vars.slippryWrapper):$(i.settings.captionsEl),void 0!==s&&""!==s?t.html(s).show():t.hide())},e.startAuto=function(){void 0===i.vars.timer&&void 0===i.vars.delay&&(i.vars.delay=window.setTimeout(function(){i.vars.autodelay=!1,i.vars.timer=window.setInterval(function(){i.vars.trigger="auto",y(i.settings.autoDirection)},i.settings.pause)},i.vars.autodelay?i.settings.autoHoverDelay:i.settings.autoDelay),i.settings.autoHover&&i.vars.slideWrapper.unbind("mouseenter").unbind("mouseleave").bind("mouseenter",function(){void 0!==i.vars.timer?(i.vars.hoverStop=!0,e.stopAuto()):i.vars.hoverStop=!1}).bind("mouseleave",function(){i.vars.hoverStop&&(i.vars.autodelay=!0,e.startAuto())}))},e.stopAuto=function(){window.clearInterval(i.vars.timer),i.vars.timer=void 0,window.clearTimeout(i.vars.delay),i.vars.delay=void 0},e.refresh=function(){i.vars.slides.removeClass(i.settings.activeClass),i.vars.active.addClass(i.settings.activeClass),i.settings.responsive?a():c(),m(),u(),o()},C=function(){e.refresh()},d=function(){i.vars.moving=!1,i.vars.active.removeClass(i.settings.transClass),i.vars.fresh||i.vars.old.removeClass("sy-ken"),i.vars.old.removeClass(i.settings.transClass),i.settings.onSlideAfter.call(void 0,i.vars.active,i.vars.old.index(),i.vars.active.index()),i.settings.auto&&(i.vars.hoverStop&&void 0!==i.vars.hoverStop||e.startAuto())},h=function(){var s,t,a,n,r,o,l;i.settings.onSlideBefore.call(void 0,i.vars.active,i.vars.old.index(),i.vars.active.index()),i.settings.transition!==!1?(i.vars.moving=!0,"fade"===i.settings.transition||"kenburns"===i.settings.transition?(i.vars.fresh?(i.settings.useCSS?i.vars.slides.css({transitionDuration:i.settings.speed+"ms",opacity:0}):i.vars.slides.css({opacity:0}),i.vars.active.css("opacity",1),"kenburns"===i.settings.transition&&i.settings.useCSS&&(r=i.settings.pause+2*i.settings.speed,i.vars.slides.css({animationDuration:r+"ms"}),i.vars.active.addClass("sy-ken")),d()):i.settings.useCSS?(i.vars.old.addClass(i.settings.transClass).css("opacity",0),i.vars.active.addClass(i.settings.transClass).css("opacity",1),"kenburns"===i.settings.transition&&i.vars.active.addClass("sy-ken"),$(window).off("focus").on("focus",function(){i.vars.moving&&i.vars.old.trigger(i.vars.transition)}),i.vars.old.one(i.vars.transition,function(){return d(),this})):("kenburns"===i.settings.transition&&b(),i.vars.old.addClass(i.settings.transClass).animate({opacity:0},i.settings.speed,i.settings.easing,function(){d()}),i.vars.active.addClass(i.settings.transClass).css("opacity",0).animate({opacity:1},i.settings.speed,i.settings.easing)),C()):("horizontal"===i.settings.transition||"vertical"===i.settings.transition)&&(o="horizontal"===i.settings.transition?"left":"top",s="-"+i.vars.active.index()*(100+i.settings.slideMargin)+"%",i.vars.fresh?(e.css(o,s),d()):(l={},i.settings.continuous&&(!i.vars.jump||"controls"!==i.vars.trigger&&"auto"!==i.vars.trigger||(t=!0,n=s,i.vars.first?(a=0,i.vars.active.css(o,i.vars.count*(100+i.settings.slideMargin)+"%"),s="-"+i.vars.count*(100+i.settings.slideMargin)+"%"):(a=(i.vars.count-1)*(100+i.settings.slideMargin)+"%",i.vars.active.css(o,-(100+i.settings.slideMargin)+"%"),s=100+i.settings.slideMargin+"%"))),i.vars.active.addClass(i.settings.transClass),i.settings.useCSS?(l[o]=s,l.transitionDuration=i.settings.speed+"ms",e.addClass(i.settings.transition),e.css(l),$(window).off("focus").on("focus",function(){i.vars.moving&&e.trigger(i.vars.transition)}),e.one(i.vars.transition,function(){return e.removeClass(i.settings.transition),t&&(i.vars.active.css(o,a),l[o]=n,l.transitionDuration="0ms",e.css(l)),d(),this})):(l[o]=s,e.stop().animate(l,i.settings.speed,i.settings.easing,function(){return t&&(i.vars.active.css(o,a),e.css(o,n)),d(),this}))),C())):(C(),d())},S=function(s){i.vars.first=i.vars.last=!1,"prev"===s||0===s?i.vars.first=!0:("next"===s||s===i.vars.count-1)&&(i.vars.last=!0)},y=function(s){var t,a;i.vars.moving||("auto"!==i.vars.trigger&&e.stopAuto(),t=i.vars.active.index(),"prev"===s?(a=s,t>0?s=t-1:i.settings.loop&&(s=i.vars.count-1)):"next"===s?(a=s,t<i.vars.count-1?s=t+1:i.settings.loop&&(s=0)):(s-=1,a=t>s?"prev":"next"),i.vars.jump=!1,"prev"===s||"next"===s||s===t&&!i.vars.fresh||(S(s),i.vars.old=i.vars.active,i.vars.active=$(i.vars.slides[s]),(0===t&&"prev"===a||t===i.vars.count-1&&"next"===a)&&(i.vars.jump=!0),h()))},e.goToSlide=function(s){i.vars.trigger="external",y(s)},e.goToNextSlide=function(){i.vars.trigger="external",y("next")},e.goToPrevSlide=function(){i.vars.trigger="external",y("prev")},l=function(){if(i.settings.pager&&i.vars.count>1){var s,t,e;for(s=i.vars.slides.length,e=$('<ul class="'+i.settings.pagerClass+'" />'),t=1;s+1>t;t+=1)e.append($("<li />").append($('<a href="#'+t+'">'+t+"</a>")));i.vars.slippryWrapper.append(e),$("."+i.settings.pagerClass+" a",i.vars.slippryWrapper).click(function(){return i.vars.trigger="pager",y(parseInt(this.hash.split("#")[1],10)),!1}),u()}},v=function(){i.settings.controls&&i.vars.count>1&&(i.vars.slideWrapper.append($('<ul class="'+i.settings.controlClass+'" />').append('<li class="'+i.settings.prevClass+'"><a href="#prev">'+i.settings.prevText+"</a></li>").append('<li class="'+i.settings.nextClass+'"><a href="#next">'+i.settings.nextText+"</a></li>")),$("."+i.settings.controlClass+" a",i.vars.slippryWrapper).click(function(){return i.vars.trigger="controls",y(this.hash.split("#")[1]),!1}),m())},g=function(){i.settings.captions!==!1&&("overlay"===i.settings.captions?i.vars.slideWrapper.append($('<div class="sy-caption-wrap" />').html(k("<div />",i.settings.captionsEl))):"below"===i.settings.captions&&i.vars.slippryWrapper.append($('<div class="sy-caption-wrap" />').html(k("<div />",i.settings.captionsEl))))},w=function(){y(i.vars.active.index()+1)},W=function(s){var t,e,a,n;return n="all"===i.settings.preload?s:i.vars.active,a=$("img, iframe",n),t=a.length,0===t?void w():(e=0,void a.each(function(){$(this).one("load error",function(){++e===t&&w()}).each(function(){this.complete&&$(this).load()})}))},e.getCurrentSlide=function(){return i.vars.active},e.getSlideCount=function(){return i.vars.count},e.destroySlider=function(){i.vars.fresh===!1&&(e.stopAuto(),i.vars.moving=!1,i.vars.slides.each(function(){void 0!==$(this).data("sy-cssBckup")?$(this).attr("style",$(this).data("sy-cssBckup")):$(this).removeAttr("style"),void 0!==$(this).data("sy-classBckup")?$(this).attr("class",$(this).data("sy-classBckup")):$(this).removeAttr("class")}),void 0!==e.data("sy-cssBckup")?e.attr("style",e.data("sy-cssBckup")):e.removeAttr("style"),void 0!==e.data("sy-classBckup")?e.attr("class",e.data("sy-classBckup")):e.removeAttr("class"),i.vars.slippryWrapper.before(e),i.vars.slippryWrapper.remove(),i.vars.fresh=void 0)},e.reloadSlider=function(){e.destroySlider(),r()},r=function(){var a;return i.settings=$.extend({},s,t),i.vars.slides=$(i.settings.elements,e),i.vars.count=i.vars.slides.length,i.settings.useCSS&&(x("transition")||(i.settings.useCSS=!1),i.vars.transition=p()),e.data("sy-cssBckup",e.attr("style")),e.data("sy-classBackup",e.attr("class")),e.addClass(i.settings.boxClass).wrap(i.settings.slippryWrapper).wrap(i.settings.slideWrapper).wrap(i.settings.slideCrop),i.vars.slideWrapper=e.parent().parent(),i.vars.slippryWrapper=i.vars.slideWrapper.parent().addClass(i.settings.loadingClass),i.vars.fresh=!0,i.vars.slides.each(function(){$(this).addClass("sy-slide "+i.settings.transition),i.settings.useCSS&&$(this).addClass("useCSS"),"horizontal"===i.settings.transition?$(this).css("left",$(this).index()*(100+i.settings.slideMargin)+"%"):"vertical"===i.settings.transition&&$(this).css("top",$(this).index()*(100+i.settings.slideMargin)+"%")}),i.vars.count>1||i.settings.initSingle?(-1===$("."+i.settings.activeClass,e).index()?(a="random"===i.settings.start?Math.round(Math.random()*(i.vars.count-1)):i.settings.start>0&&i.settings.start<=i.vars.count?i.settings.start-1:0,i.vars.active=$(i.vars.slides[a]).addClass(i.settings.activeClass)):i.vars.active=$("."+i.settings.activeClass,e),v(),l(),g(),W(i.vars.slides),void 0):this},r(),this)}}(jQuery);